<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jigdral Namgyal - Portfolio</title>
    <style>
        /* CSS for Light Theme and Layout */
        :root {
            --primary-color: #ffaa33; /* A warm saffron/gold, inspired by Bhutanese colors */
            --background-light: #ffffff;
            --text-dark: #2c3e50;
            --accent-light: #f4f6f9;
            --font-stack: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            font-family: var(--font-stack);
            background-color: var(--accent-light);
            color: var(--text-dark);
            line-height: 1.6;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 30px;
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
        }

        header, .card {
            background-color: var(--background-light);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }

        header {
            grid-column: 1 / 3; /* Header spans both columns */
            text-align: center;
            padding: 40px 25px;
        }

        header h1 {
            color: var(--primary-color);
            margin: 0 0 5px;
            font-size: 2.5em;
        }

        header p {
            color: #6c7a89;
            font-size: 1.1em;
            font-weight: 300;
        }

        .sidebar {
            grid-column: 1 / 2;
        }

        .main-content {
            grid-column: 2 / 3;
        }

        .card h2 {
            color: var(--primary-color);
            border-bottom: 3px solid var(--accent-light);
            padding-bottom: 10px;
            margin-top: 0;
            font-weight: 600;
        }

        .detail-list {
            list-style: none;
            padding: 0;
        }

        .detail-list li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }

        .detail-list li strong {
            font-weight: 600;
            display: block;
            color: #4b6584;
        }

        .detail-list li:before {
            content: 'â€¢';
            color: var(--primary-color);
            position: absolute;
            left: 0;
            font-size: 1.2em;
        }

        /* Chatbot Styles */
        #chatbot-container {
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            height: 400px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            background-color: #fcfdff;
        }

        #chat-window {
            flex-grow: 1;
            padding: 15px;
            overflow-y: auto;
            border-bottom: 1px solid #e0e0e0;
        }

        .message {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 15px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .user-message {
            background-color: var(--primary-color);
            color: var(--background-light);
            margin-left: auto;
            border-bottom-right-radius: 2px;
        }

        .bot-message {
            background-color: var(--accent-light);
            color: var(--text-dark);
            margin-right: auto;
            border-bottom-left-radius: 2px;
        }
        
        #chat-input-container {
            display: flex;
            padding: 10px;
            background-color: var(--background-light);
        }

        #chat-input {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 20px;
            margin-right: 10px;
            font-size: 1em;
        }

        #send-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #send-button:hover {
            background-color: #e0992a;
        }

        /* Responsive Design */
        @media (max-width: 800px) {
            .container {
                grid-template-columns: 1fr;
                margin: 15px;
                gap: 15px;
            }
            header {
                grid-column: 1 / 2;
            }
            .sidebar, .main-content {
                grid-column: 1 / 2;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>Jigdral Namgyal</h1>
            <p>15-year-old Researcher & Dedicated Preserver of Bhutanese Culture from Trashi Yangtse</p>
        </header>

        <div class="sidebar">
            <div class="card">
                <h2>Profile Details</h2>
                <ul class="detail-list">
                    <li><strong>Age:</strong> 15 years old</li>
                    <li><strong>Hometown:</strong> Trashi Yangtse, Eastern Bhutan ðŸ‡§ðŸ‡¹</li>
                    <li><strong>Role:</strong> Researcher</li>
                    <li><strong>Organization:</strong> EduLink</li>
                    <li><strong>Start Date:</strong> December 5, 2025</li>
                </ul>
            </div>

            <div class="card" style="margin-top: 30px;">
                <h2>Cultural Interests</h2>
                <ul class="detail-list">
                    <li><strong>Traditional Games:</strong> Playing Bhutanese games (e.g., Archery, Khuru).</li>
                    <li><strong>Performing Arts:</strong> Dancing and Singing.</li>
                    <li><strong>Leisure:</strong> Listening to music.</li>
                    <li><strong>Core Passion:</strong> Preservation of Bhutanese culture.</li>
                </ul>
            </div>
        </div>

        <div class="main-content">
            <div class="card">
                <h2>Ask Jigdral</h2>
                <p>Hello! I'm Jigdral. Ask me about my work, my hometown, or my cultural hobbies!</p>
                <div id="chatbot-container">
                    <div id="chat-window">
                        <div class="message bot-message">
                            Kuzuzangpo la! I am Jigdral. I'm a young researcher and I'm happy to tell you about my work at EduLink or my passions like dancing! How can I help you?
                        </div>
                    </div>
                    <div id="chat-input-container">
                        <input type="text" id="chat-input" placeholder="Type your question here...">
                        <button id="send-button" onclick="sendMessage()">Send</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const chatWindow = document.getElementById('chat-window');
        const chatInput = document.getElementById('chat-input');
        const sendButton = document.getElementById('send-button');

        // Core profile information for the AI prompt
        const JIGDRAL_PROFILE = `
            You are Jigdral Namgyal, a dedicated 15-year-old from Trashi Yangtse, Eastern Bhutan. 
            You are a professional Researcher at EduLink, a role you started on December 5, 2025. 
            Your deep passions are preserving and enjoying Bhutanese culture, including playing traditional Bhutanese games (like Archery or Khuru), dancing, and singing. 
            You also enjoy relaxing by listening to music. Respond in a friendly, helpful tone, and always refer to yourself as Jigdral. 
            Keep your answers concise, engaging, and in character.
        `;

        // Function to create and append a message element
        function appendMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', `${sender}-message`);
            messageDiv.textContent = text;
            chatWindow.appendChild(messageDiv);
            // Scroll to the latest message
            chatWindow.scrollTop = chatWindow.scrollHeight;
        }

        // Main function to handle sending a message
        async function sendMessage() {
            const userMessage = chatInput.value.trim();
            if (userMessage === "") return;

            // Display user message immediately
            appendMessage(userMessage, 'user');
            chatInput.value = ''; // Clear input

            // Disable input while waiting for response
            chatInput.disabled = true;
            sendButton.disabled = true;
            sendButton.textContent = '...';

            // Construct the Pollinations.AI Text API URL
            // Pollinations.AI uses a simple GET request for text generation: https://text.pollinations.ai/{prompt}
            const fullPrompt = `${JIGDRAL_PROFILE} The user asks: ${userMessage}`;
            const encodedPrompt = encodeURIComponent(fullPrompt);
            const apiUrl = `https://text.pollinations.ai/${encodedPrompt}?model=gpt-3.5-turbo`; // Using a capable model

            try {
                // Fetch the response from the Pollinations API
                const response = await fetch(apiUrl);
                let botResponseText;

                if (response.ok) {
                    botResponseText = await response.text();
                    // Basic cleanup, as API might return extra characters or just the raw text
                    botResponseText = botResponseText.trim().replace(/^"/, '').replace(/"$/, ''); 
                } else {
                    botResponseText = "Sorry, I'm having trouble connecting to my knowledge base right now. Please try again later!";
                }

                appendMessage(botResponseText, 'bot');

            } catch (error) {
                console.error("Fetch Error:", error);
                appendMessage("I encountered a network error. My apologies!", 'bot');
            } finally {
                // Re-enable input
                chatInput.disabled = false;
                sendButton.disabled = false;
                sendButton.textContent = 'Send';
                chatInput.focus();
            }
        }

        // Allow sending a message by pressing Enter
        chatInput.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        });
        
        // Initial focus on the input field
        document.addEventListener('DOMContentLoaded', () => {
            chatInput.focus();
        });
    </script>

</body>
</html>
